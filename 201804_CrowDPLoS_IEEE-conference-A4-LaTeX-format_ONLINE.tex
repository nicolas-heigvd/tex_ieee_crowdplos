% IEEE Paper Template for A4 Page Size
% Sample Conference Paper using IEEE LaTeX style file for A4 page size.
% Copyright (C) 2006-2008 Causal Productions Pty Ltd.
% Permission is granted to distribute and revise this file provided that
% this header remains intact.
% 
% REVISION HISTORY
% 20080211 changed some space characters in the title-author block
%
\documentclass[10pt,conference,a4paper]{IEEEtran}
\usepackage{times,amsmath,amssymb,epsfig}
\usepackage{epstopdf}

%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%% USER DEFINED PACKAGES:
\usepackage[utf8]{inputenc} 
\usepackage[T1]{fontenc}     
\usepackage[english]{babel}


%\usepackage{bookman}
%\usepackage{charter}
%\usepackage{newcent}
%\usepackage{lmodern}
%\usepackage{mathpazo}
%\usepackage{mathptmx}
%\usepackage{cm}

\usepackage{booktabs}% http://ctan.org/pkg/booktabs
\usepackage{tabularx}% http://ctan.org/pkg/tabularx
\usepackage{makecell}
\usepackage{array}
\usepackage{multirow}
\usepackage{layout}  
\usepackage{color}
\usepackage{colortbl}
\definecolor{red1}{RGB}{240,40,40}
\definecolor{grn1}{RGB}{40,240,40}
\definecolor{blu1}{RGB}{40,40,240}
\definecolor{vraipos}{rgb}{0.04,0.2,0.04}
\definecolor{vraineg}{rgb}{1,1,1}
\definecolor{fauxpos}{rgb}{1,0.8,0.8}
\definecolor{fauxneg}{rgb}{0.1,0.6,0.1}
\usepackage[top=2cm, bottom=2cm, left=2cm, right=2cm]{geometry}
\usepackage{url}

\hyphenation{DPLoS}
\graphicspath{{./images/}}

\usepackage[breaklinks=true,bookmarks=false]{hyperref}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\title{CrowDPLoS: a Feasibility Study to Assess the Level of Service for Disabled People on Pedestrian Urban Network Using Computer Vision and Crowdsourcing}
%
\author{%
\,Anonymous VCIP Submission\\
\,Paper ID:

\iffalse
% author names are typeset in 11pt, which is the default size in the author block
% {First Author{\small $~^{\#1}$}, Second Author{\small $~^{*2}$}, Third Author{\small $~^{\#3}$},
% Removed for anonymous submission
{Nicolas Blanc{\small $~^{\#1}$}, Jens Ingensand{\small $~^{\#2}$}, Romain Sandoz{\small $~^{\#3}$},}
\,\\
{Olivier Ertz{\small $~^{\#4}$}, Jean-Christophe Loubier{\small $~^{*5}$}, Diego Rojas{\small $~^{*6}$},
Sokhn Maria{\small $~^{*7}$} }
{}

% add some space between author names and affils
\vspace{1.6mm}\\
\fontsize{10}{10}\selectfont\itshape
% 20080211 CAUSAL PRODUCTIONS
% separate superscript on following line from affiliation using narrow space
% $^{\#}$\,First-Third Department, First-Third University\\ %  Removed for anonymous submission
% Address Including Country Name\\ %  Removed for anonymous submission

$^{\#}$\,{University of Applied Sciences Western Switzerland,}\\
{School of Management and Engineering Vaud,}\\
{Rte de Cheseaux 1,} \\
{CH-1400 Yverdon-les-Bains}
\,\\
\\
$^{*}$\,{University of Applied Sciences Western Switzerland,}\\
{School of Management \& Tourism,}\\
{Rte de la Plaine 2, PO box 80, }\\
{CH-3960 Sierre}
\,\\ 
\\
\fontsize{9}{9}\selectfont\ttfamily\upshape
%
% 20080211 CAUSAL PRODUCTIONS
% in the following email addresses, separate the superscript from the email address
% using a narrow space \,
% the reason is that Acrobat Reader has an option to auto-detect urls and email
% addresses, and make them 'hot'.  Without a narrow space, the superscript is included
% in the email address and corrupts it.
% Also, removed ~ from pre-superscript since it does not seem to serve any purpose
% $^{1}$\,first.author@first-third.edu\\ % Removed for anonymous submission
% $^{3}$\,third.author@first-third.edu %  Removed for anonymous submission
$^{1-4}$\,\{nicolas.blanc1,
jens.ingensand,
romain.sandoz,
olivier.ertz\}@heig-vd.ch\\ % Removed for anonymous submission
$^{5-7}$\,\{jchristophe.loubier,
diego.rojas,
maria.sokhn\}@hevs.ch %  Removed for anonymous submission

\,\\ 
\\

% add some space between email and affil
\vspace{1.2mm}\\
\fontsize{10}{10}\selectfont\rmfamily\itshape
% 20080211 CAUSAL PRODUCTIONS
% separated superscript on following line from affiliation using narrow space \,
% $^{*}$\,Second Company\\ %  Removed for anonymous submission
% Address Including Country Name\\ %  Removed for anonymous submission
\,\\ 
\\

\fontsize{9}{9}\selectfont\ttfamily\upshape
% 20080211 CAUSAL PRODUCTIONS
% removed ~ from pre-superscript since it does not seem to serve any purpose
%$^{2}$\,second.author@second.com %  Removed for anonymous submission
\,
\fi
} % end of author

%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{document}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\maketitle

% INCLUDES COPYRIGHT NOTICE: one of three copyright notice should be included. Uncomment the appropriate line below, according to the authors affiliation:
\begin{figure}[b]
\parbox{\hsize}{\em
%information about the event:
%IEEE VCIP'14, Dec. 7 - Dec. 10, 2014, Valletta, Malta.

%copyright notice: one of three copyright notices below should be included. Uncomment the appropriate line, according to the authors affiliation:
%000-0-0000-0000-0/00/\$31.00 \ \copyright 2014 IEEE.
%U.S. Government work not protected by U.S. copyright.
%???-?-????-????-?/10/\$??.?? \copyright 2014 Crown.
}\end{figure}


\begin{abstract}
   Availability of global and scalable tools to assess disabled pedestrian level of service (DPLoS) is a real need but still a challenge in today’s world. It is usually summarized by lacking of tools that can ease the measurement of a level of service adapted to disabled people, and the limitation concerns the availability of information regarding the existing level of service in real time as well. This paper aims to use advanced computer vision technologies and benefits from the prevalence of handheld devices in order to respond to those needs. Our approach allows the development of a navigation tool with crowdsourcing technologies that can help a disabled person to move around a city, and suggest the most adapted routes according to the person’s disabilities. This solution provides the opportunity to get the up-to-date data with valuable field observations.
\\[1\baselineskip]
\end{abstract}


% NOTE keywords are not used for conference papers so do not populate them
\iffalse
\begin{keywords}
crowdsourcing, computer vision, mapping application, disable pedestrian level of service
\end{keywords}
\fi
%

%################################################################################
%################################################################################
\section{Introduction}
%################################################################################
%################################################################################


Creating the disabled pedestrian map-based routing is a challenge for both researchers and practitioners. Disabled pedestrian level of service (DPLoS) have been studied and discussed by more and more people. One of the most important reason is maps-based routing solution provides information about the available facilities of transitory obstacles to enable people with mobility disabilities to travel more easily. In fact, the demand for disabled pedestrian level of services is enormous. According to World Health Organization \cite{who2017}, over a billion people live with some form of disability. This correspond to about 15\% of the world’s population, and between 110 and 190 million adults have very significant difficulties in functions that include the wheelchair users. The interdisciplinary researches are working together to make contributions in this domain.

Despite the existence of standards and regulations to increase the ability of both disabled people and persons with limited mobility to independently use pedestrian networks, there is still a lack in replicable, objective, cost-effective systems to assess pedestrian infrastructure \cite{frackelton2013measuring}. Therefore, two main limitations have been identified. On the one hand, there is a lack of tools that can ease the measurement of a level of service (LoS) adapted to disabled people. These tools can help assess the level of accessibility of a pedestrian network. On the other hand, the missing of the availability of information regarding the existing level of service in real time causes problems. When moving through a network, a disabled person needs this kind of information to take a right decisions.

In this study, we present a technical approach, named CrowDPLoS, which uses advanced computer vision technologies and benefits from the prevalence of handheld devices in order to meet the challenges discussed above. This approach allows the development of a navigation tool with crowdsourcing technologies that can help a disabled person to move around a city suggesting the most adapted routes according to the person’s disabilities. As illustrated in Figure 1, the best route in our approach is based on the highest level of service of route and adapted to the user’s handicap. Specifically, we give people with mobility impairments, mainly wheelchair users, a mean to travel safely and with ease through a modern urban area by applying the algorithms of computer vision. These algorithms use crowdsourced images taken by the users of a mobile application in order to determine a level of service adapted to disabled pedestrians.

This paper is organized as follows: section 2 presents a summary of the related works of computer vision based techniques and crowdsourcing in disabled pedestrian level of service, in section 3, we explain our approaches to develop models that measure a disabled pedestrian level of service for pedestrian networks by applying computer vision and crowdsourcing. Finally, we conclude with a summary of the current work, and we present suggestions for future research.


\begin{figure}[t]
\begin{center}
%\fbox{\rule{0pt}{2in} \rule{0.9\linewidth}{0pt}}
\includegraphics[width=1.0\linewidth]{OSM_walk_graph_02.jpg}
\end{center}
   \caption{Part of the pedestrian network extracted from OpenStreetMap (OSM) data (green) in a downtown area }\label{pedestriangraph}
\end{figure}

%################################################################################
%################################################################################
\section{Related work}
%################################################################################
%################################################################################
%This section will present the related work in the fields of each working packages.


%################################################################################
\subsection{Crowdsourcing in disabled pedestrian level of service}
%################################################################################
Research on disabled pedestrian level of service (DPLoS) is relatively new. The analytical methods to estimate the DPLoS is not only consider as a narrow range of pedestrians, but also need to apply more diverse pedestrian populations with different characteristics, to ensure inclusive walking conditions. Therefore, a good quality of crowdsourced data from citizens is the key element to create the DPLoS. Liu et al. \cite{liu2018} identified three useful techniques for improving crowdsourced data quality when building accessibility maps, including qualification tests, reputation system, and aggregation techniques. Their findings highlighted that the accuracy rate has a significant increase after applying the intervention of quality control methods. Moreover, \cite{brovelli_webbased_2014} and \cite{minghini_multi-dimensional_2014} shown how participatory Geographic Information System (GIS) using Free and Open Source Software (FOSS) may help provide high quality open-GIS data and make them available to the public using web technologies. In this study, we follow the guidelines from literatures and apply selective recruitment and training of participants to provide the high-quality crowdsourcing data.


%################################################################################
\subsection{Computer Vision based techniques}
%################################################################################
Historically, CV tends to extract features from images like edges \cite{canny_computational_1986}.
Segmentation by watershed algorithms \cite{beucher_road_1990,meyer_morphological_1990, beucher_segmentation:_1993} using graph-based techniques \cite{felzenszwalb_efficient_2004} or oriented gradient \cite{malisiewicz_ensemble_2011} gives the ability to well enough isolate regions on an image.
Hough transform is also a well know line detector that may be used to extract road boarders \cite{duda_use_1972,illingworth_survey_1988,ballard_generalizing_1981,kiryati_probabilistic_1991,yu1997,aly2008real}. Vanishing point extraction \cite{se_road_2003,wang2004lane,kong2009vanishing} realizes that very well too.

Views from the sky are also known to provide good enough classification results, especially for crosswalks detection \cite{berriel_deep_2017}.

\cite{lu_real-time_2015} shows a simple approach to calculate the slope of a street by using lines which are known to be horizontal, like building windows edges.
%\cite{ivanchenko_crosswatch:_2008}
%\cite{asad_smartphone_2012}

It has already been shown \cite{hara_tohme:_2014, hara_design_2016} how CV was used to determine accessibility from physical features of the real world based on GSV. This approach is making use of ML techniques, especially Convolutional Neural Networks (CNN) which are typically designed to extract features from images \cite{lecun1995convolutional}. Field of autonomous driving brings a solid background for street segmentation using ML \cite{alvarez2012road}, even coupled with stereoscopic images which provides the useful depth information \cite{coughlan_terrain_2007,ivanchenko_computer_2008,zbontar2016stereo}.
\cite{smith_classification_2013} used a more global approach coupled with a random forest classifier to identify sidewalks on street view images.

% \cite{association_for_computing_machinery_acm_tohme:_nodate} % yt




%################################################################################
\subsection{Coupling CS and CV algorithms to the DPLoS model}
%################################################################################
Level of Service (LoS) has long been studied for pedestrian (PLoS) \cite{landis_modeling_2001,dixon_bicycle_1996, gallin_quantifying_2001}. The former proposed a model that can help crossroads design and prioritize the needs for local governments. 

As sidewalks are probably the most important and secure places for pedestrian to walk on in urban areas, several studies have focused their researches on characterizing and assessing sidewalks accessibility.

\cite{tan_research_2007} compared the gap between the subjective security perception of pedestrian with traffic flow characteristics.

But it's rather new that a PLoS has been specifically investigated for disabled people (DPLoS). \cite{asadi-shekari_zohreh_disabled_2013, asadi-shekari_pedestrian_2014} have for example calculated 10 main feature indicators. These indicators are themselves based on several studies and guidelines regarding facilities for disabled like wheelchair users or blind people. 
\cite{mostafavi2015mobilisig, gharebaghi2017confidence} focused on mapping the level of accessibility of street networks and \cite{liu_crowdsourcing-based_2017, comai_mapping_2015} on creating an accessibility mapping mobile application (MEP: Map for Easy Paths) using a user-centered design approach. 

\cite{coughlan_terrain_2007} and \cite{ivanchenko_computer_2008} used calculated depth map to detect negative obstacle edges on wheelchair users path by directly embedding a stereo camera onto the wheelchair. 

Other embedded based techniques make use of a smart-phone camera to detect crosswalk \cite{ivanchenko_crosswatch:_2008} or straight paths using CV and stereo vision \cite{asad_smartphone_2012}.

A 2015 interdisciplinary urban data science program of the University of Washington \cite{rokem_building_2015} has seen 2 projects related to impaired people mobility. One of them, called OpenSideWalk \cite{bolten_urban_2015} investigated sidewalk graph analysis for routing to propose the better paths for disabled people. This project is now proposing a schema to better and more finely represents sidewalks as separate footways from the drivable roads in OpenStreetMap (OSM).%\footnote{\url{https://www.opensidewalks.com/}} \cite{noauthor_opensidewalks_nodate}.

Even the tourism industry may take some advantages of disabled accessibility researches \cite{israeli_preliminary_2002}.

%In Switzerland, one can easily find some architectural guidelines related to disabled pedestrians \cite{schmidt_directives_2003} mainly based on Swiss Standard (SN).

While \cite{kovashka2016crowdsourcing} addressed some of the most important questions regarding CV and CS and provide useful general guideline, it is only recently that DPLoS assessment or application design took advantages of CS and CV.
\cite{hara_feasibility_2012, comai_mapping_2015} have shown the opportunity of integrating final users in the design of an application devoted to disabled pedestrian and to assess scaled street segments aptitude.

Some of the most advanced studies \cite{hara_scalable_2014, hara_characterizing_2015} have shown how to combine CS and CV on Google Street View (GSV) images to collect informations on disabled pedestrians accessibility. The built tools \cite{hara_tohme:_2014} make use of Amazon Mechanical Turk (AMT) to achieve rapidly and at low cost some detection tasks on images. Recall of AMT workers combined with CV algorithms is higher and faster than AMT workers alone \cite{hara_combining_2013, hara_improving_2013, hara_improving_2015}. Thus, CV still endorse an important role in detecting features, especially when combined with ML.

The bottleneck in such approach is data acquisition and labeling. The latter is one of the highest time demanding operation. Thus, finding a pleasant way to annotate images with the highest quality is a key factor in this task \cite{von2006peekaboom}.


%################################################################################
%\subsection{Graph and network analysis}
%################################################################################
%\cite{boeing_osmnx:_2017}
%\cite{bolten_urban_2015}




%################################################################################
%################################################################################
\section{Proposed approach}
%################################################################################
%################################################################################
Based on the relevant literature, the research proposal is articulated in several phases.
Two first preliminary steps will be:
\begin{enumerate}\setlength\itemsep{0.0em}
\item the creation of the DPLoS model and
\item the establishment of a pedestrian network at a city-scale level % (the city of Sion was chosen).
\end{enumerate}  

Meanwhile, CV+ML algorithms dedicated to features detections in images will be settled together with dedicated CS applications to collect data, digitize and label features and evaluate the detection results.

These two steps must be closely related in their development as part of user inputs may influence CV+ML detection algorithms and algorithms results must be evaluated by crowd-workers and final users. 

%################################################################################
\subsection{DPLoS model}
%################################################################################
The DPLoS established model retains the following features and value ranges:
\begin{itemize}
\item slope
\item sidewalks width and obstacles
\item coating quality (pavement, smooth concreet)
\item crosswalks and security signals (pedestrian light, refuge island)
\item presence of curb ramps to cross roads
\end{itemize}

%################################################################################
\subsection{Pedestrian graph}
%################################################################################
Existing vector data may include:
\begin{itemize}\renewcommand\labelitemi{--}\setlength\itemsep{0.0em}
\item National Map Agency (NMA) Cadastral Survey,
\item NMA vector data, if available,
%\item the Topographic Landscape Model (TLM) of the Federal Office of Topology, swisstopo,
\item OSM streets and footways,
%\item any third party road network.
\end{itemize}

It is also conceivable to use high resolution satellite or aerial raster data to extract a road network using segmentation-based classification methods but as this may involve more computational steps this solution was not chosen.
They may however be an invaluable help to apply this method to regions where high quality vector data does not exist. 

For this study, OSM street pathways data were extracted using a dedicated Python package \cite{boeing_osmnx:_2017}.


%################################################################################
\subsection{Crowdsourcing, Computer Vision and Machine Learning}
%################################################################################
%The development of an application, %even if located at later stage in the global process, 
%should be included as soon as possible. 
It was first decided not to use one, but rather 3 different applications depending on the goal to achieve. These goals are as follows:
\begin{enumerate}\setlength\itemsep{0.0em}
\item Footways network update
\item Data acquisition: raw images + geolocation and network segmentation
\item Images features digitizing and labeling %(on raw images)
\item End-user route choice and update abilities
\end{enumerate}

%#####################################
\subsubsection*{Footways network update}
%#####################################
The initial pedestrian network may not be totally fulfilled \ref{pedestriangraph}. It will be proposed as a Tool-as-a-Game (TaaG) application to complete or make it fit the actual reality more precisely based on a recent orthophoto background. %This part may be desktop-oriented for a more comfortable data entry.


%#####################################
\subsubsection*{Data acquisition and geolocation + network segmentation}
%#####################################
The second application, which may be mobile-oriented would basically serve as a feeding source for raw images. 

Everyone can take a picture with a mobile device and upload it to a database. Along with existing street pictures sources like GSV or mapillary \cite{sweden_street-level_nodate,neuhold2017mapillary} %\footnote{\url{https://www.mapillary.com/}} \cite{sweden_street-level_nodate},
they will serve as raw data input for the digitizing step.
If a mobile GNSS receiver and a compass are enabled, geolocation values are stored along the picture. Otherwise, a geolocation tool will propose to the user to geolocate and orient (azimuth) its photograph before uploading it. %A minimal precision will be asked for.\\



%#####################################
\subsubsection*{Feature digitizing and characterizing}
%#####################################
This application could take benefits of larger screens, it will therefore be desktop-oriented. 

Its main goal is to digitize one or more of the 5 identified DPLoS features on raw images and marking them with attributes scores based on the DPLoS model. 

E.g., if someone sees a curb ramp on a picture, he will be able to digitize it and marking it as a curb ramp \ref{curbramppicture}. An other example would let the user annotate a sidewalk surface width as "not crossable for two wheelchairs" or "no possible way for a single wheelchair" based on the perceived width on the given picture. If depth information is available for an image, a measuring tool may also be provided.

\begin{figure}[ht]
\begin{center}
%\fbox{\rule{0pt}{2in} \rule{0.9\linewidth}{0pt}}
\includegraphics[width=1.0\linewidth]{curb_ramp.jpg}
\end{center}
   \caption{An example on digitizing a curb ramp on a picture. }\label{curbramppicture}
\label{fig:long}
\label{fig:onecol}
\end{figure}

This second application will also give the user a TaaG to check the features that were detected by algorithms. This important step provides two advantages:
\begin{enumerate}\setlength\itemsep{-0.0em}
\item it will classify detected features according to a confusion matrix \ref{confmat}.

%\iffalse
\vspace*{-0.0em}
\begin{table}[ht]
\caption{Confusion matrix}\label{confmat}
%\resizebox{0.5\textwidth}{!}{%
\setlength\tabcolsep{12pt}
\begin{tabular}{ l r c c }
%\toprule
\multicolumn{2}{ c }{} & \multicolumn{2}{ c }{{Detection} } \\
%\addlinespace
\cmidrule{3-4}
& & \makecell{{Positive}} & \makecell{{Negative}} \\
\cmidrule{3-4}
\multirow{2}{*}[0.2em]{\raisebox{4em}{\rotatebox[origin=c]{90}{Ground}~\rotatebox[origin=c]{90}{truth}}} & \makecell{Positive} & {True positive} & {False negative}  \\ 
 & \makecell{Negative} & False positive & True negative \\ 
\cmidrule{3-4}
%\bottomrule
\end{tabular}
%}
\end{table}	
%\fi

\item ML detection algorithms abilities could be improved by feeding them back these new positive and negative labeled images for a new training. Training results must be tracked to avoid overfitting.
\end{enumerate}




%#####################################
\subsubsection*{End-user route choice and update}
%#####################################
The last application will target the impaired pedestrian street users. It will propose the best route between two points based on the better DPLoS edges as define by eq.\,\ref{dplostot}.
\begin{equation}
\mathrm{DPLoS}_{\mathit{route}} = \frac{1}{n}\sum{\mathrm{DPLoS}_{n\cdot\mathit{segment}}}
\label{dplostot}
\end{equation}


An additional tab will offer the user the possibility to give its feedback on a selected segment, for example when he sees an inadequate between the real world and a feature on the segment. This will improve the pedestrian network and update it as urban environment is changing.




%################################################################################
%\subsection{Computer Vision and Machine Learning}
%################################################################################




%################################################################################
%################################################################################
%\section{Preliminary Results and Evaluation}
%################################################################################
%################################################################################




%################################################################################
%################################################################################
\section{Conclusion and future work}
%################################################################################
%################################################################################
This project is in its early stages. The first version of the DPLoS model is ready. The setting up of a database to store images metadata like geolocation, as well as algorithms and crowd-workers labeling results is taking place. This same database will serve the four different applications through APIs that need to be developed. It will finally need further investigating and tests regarding coupling of CV and ML algorithms. Database populating and labeling will be the most resource demanding tasks.





%################################################################################
%################################################################################
%\section*{Acknowledgement}
%################################################################################
%################################################################################



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\bibliographystyle{./myIEEEtran}
%\nocite{*} 
\bibliography{biblio}

\end{document}
